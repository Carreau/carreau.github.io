<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Sign commits on GitHub | Random Thoughts</title>
<link href="../../assets/css/bitter.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/main.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://carreau.github.io/posts/33-sign-commits-on-github.md/">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
    },
    displayAlign: 'left', // Change this to 'center' to center equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script><!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><meta name="author" content="Matthias Bussonnier">
<meta property="og:site_name" content="Random Thoughts">
<meta property="og:title" content="Sign commits on GitHub">
<meta property="og:url" content="https://carreau.github.io/posts/33-sign-commits-on-github.md/">
<meta property="og:description" content="Signing Commit on Tags on GitHub
I've recently set-up keybase and integrated my public key
with git to be able to sign commits.
I decided to not automatically sign, as auto-signing would allow any att">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-01-07T13:30:00Z">
<meta property="article:tag" content="git">
<meta property="article:tag" content="github">
<meta property="article:tag" content="pgp">
</head>
<body>
    <section class="social"><ul>
<li><a href="../../pages/me.html" title="Me"><img src="https://avatars2.githubusercontent.com/u/335567?v=3&amp;s=400"></a></li>
        <li><a href="../../index.html" title="Home"><i class="icon-home"></i></a></li>
        <li><a href="../../pages/me.html" title="Me"><i class="icon-user"></i></a></li>
        <li><a href="../../rss.xml" title="RSS"><i class="icon-rss"></i></a></li>
        <li><a href="https://twitter.com/mbussonn" title="My Twitter"><i class="icon-twitter"></i></a></li>
        <li><a href="https://github.com/Carreau" title="Me on Github"><i class="icon-github"></i></a></li>
        <li><a href="https://www.linkedin.com/in/matthias-bussonnier-2512256a" title="Linked In"><i class="icon-linkedin"></i></a></li>
        <li><a href="https://keybase.io/mbussonn/" title="Keybase"><i class="icon-key"></i></a></li>
        <li><a href="https://stackoverflow.com/users/137794/matt" title="StackOverflow"><i class="icon-stackexchange"></i></a></li>
        <li><a href="../../archive.html" title="Archives"><i class="icon-archive"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
    <div class="post">
        <h1 class="p-name entry-title" itemprop="headline name">Sign commits on GitHub</h1>

        <div class="meta">
            <div class="authordate">
                <time class="timeago" datetime="2018-01-07T13:30:00+00:00">2018-01-07 13:30</time>
            
                      |  
        <a href="index.md" id="sourcelink">Source</a>

            </div>
                    <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="../../categories/git/" rel="tag">git</a></li>
           <li><a class="tag p-category" href="../../categories/github/" rel="tag">github</a></li>
           <li><a class="tag p-category" href="../../categories/pgp/" rel="tag">pgp</a></li>
        </ul>
</div>

        </div>
        <div class="body">
            <div>
<h2>Signing Commit on Tags on GitHub</h2>
<p>I've recently set-up <a href="https://keybase.io/">keybase</a> and integrated my public key
with git to be able to sign commits.</p>
<p>I decided to not automatically sign, as auto-signing would allow any attacker
that takes control of my machine to create signed commit. The git <a href="https://en.wikipedia.org/wiki/Merkle_tree">Merkle
tree</a> of git still insure repos are
not tampered with, as long as you issue <code>$ git fsck --full</code> on a repo or <code>$ git
config --global transfer.fsckobjects true</code> once and forget it.</p>
<p>Using <code>$ git log --show-signatur</code> you can now check that commits (and tags) are
correctly signed. Be careful though, correct signature does not mean trusted,
and if you have a PGP key set; GitHub will helpfully signed the commit you make
on their platform with <strong>their key</strong>. </p>
<pre class="code literal-block"><span></span><code><span class="o">*</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="mi">5</span><span class="n">ced6c6936563fea7ba7efccecbc4248d84cfabb</span><span class="w"> </span><span class="p">(</span><span class="nl">tag</span><span class="p">:</span><span class="w"> </span><span class="mf">5.2.1</span><span class="p">,</span><span class="w"> </span><span class="n">origin</span><span class="o">/</span><span class="mf">5.2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mf">5.2</span><span class="p">.</span><span class="n">x</span><span class="p">)</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="nl">gpg</span><span class="p">:</span><span class="w"> </span><span class="n">Signature</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="n">Tue</span><span class="w"> </span><span class="n">Jan</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="mi">19</span><span class="err">:</span><span class="mi">51</span><span class="err">:</span><span class="mi">17</span><span class="w"> </span><span class="mi">2018</span><span class="w"> </span><span class="n">CET</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="nl">gpg</span><span class="p">:</span><span class="w">                </span><span class="k">using</span><span class="w"> </span><span class="n">RSA</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="mi">99</span><span class="n">B17F64FD5C94692E9EF8064968B2CC0208DCC8</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="nl">gpg</span><span class="p">:</span><span class="w"> </span><span class="n">Good</span><span class="w"> </span><span class="n">signature</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="ss">"Matthias Bussonnier &lt;bussonniermatthias@gmail.com&gt;"</span><span class="w"> </span><span class="o">[</span><span class="n">ultimate</span><span class="o">]</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="n">Matthias</span><span class="w"> </span><span class="n">Bussonnier</span><span class="w"> </span><span class="o">&lt;</span><span class="n">bussonniermatthias</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="n">Jan</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">19</span><span class="err">:</span><span class="mi">49</span><span class="err">:</span><span class="mi">34</span><span class="w"> </span><span class="mi">2018</span><span class="w"> </span><span class="o">+</span><span class="mi">0100</span><span class="w"></span>
<span class="o">|</span><span class="w"></span>
<span class="o">|</span><span class="w">     </span><span class="n">Bump</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="mf">5.2.1</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">release</span><span class="w"></span>
<span class="o">|</span><span class="w"></span>
<span class="o">*</span><span class="w">   </span><span class="k">commit</span><span class="w"> </span><span class="mi">5</span><span class="n">a28fb0a121c286e35db309fe11b53693969b2d6</span><span class="w"></span>
<span class="o">|</span><span class="err">\</span><span class="w">  </span><span class="nl">gpg</span><span class="p">:</span><span class="w"> </span><span class="n">Signature</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="n">Tue</span><span class="w"> </span><span class="n">Jan</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="mi">13</span><span class="err">:</span><span class="mi">58</span><span class="err">:</span><span class="mi">08</span><span class="w"> </span><span class="mi">2018</span><span class="w"> </span><span class="n">CET</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nl">gpg</span><span class="p">:</span><span class="w">                </span><span class="k">using</span><span class="w"> </span><span class="n">RSA</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="mi">4</span><span class="n">AEE18F83AFDEB23</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nl">gpg</span><span class="p">:</span><span class="w"> </span><span class="n">Good</span><span class="w"> </span><span class="n">signature</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="ss">"GitHub (web-flow commit signing) &lt;noreply@github.com&gt;"</span><span class="w"> </span><span class="o">[</span><span class="n">unknown</span><span class="o">]</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nl">gpg</span><span class="p">:</span><span class="w"> </span><span class="nl">WARNING</span><span class="p">:</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">certified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">signature</span><span class="err">!</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nl">gpg</span><span class="p">:</span><span class="w">          </span><span class="n">There</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">no</span><span class="w"> </span><span class="n">indication</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">signature</span><span class="w"> </span><span class="n">belongs</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">owner</span><span class="p">.</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="nl">fingerprint</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="n">DE3</span><span class="w"> </span><span class="n">E050</span><span class="w"> </span><span class="mi">9</span><span class="n">C47</span><span class="w"> </span><span class="n">EA3C</span><span class="w"> </span><span class="n">F04A</span><span class="w">  </span><span class="mi">42</span><span class="n">D3</span><span class="w"> </span><span class="mi">4</span><span class="n">AEE</span><span class="w"> </span><span class="mi">18</span><span class="n">F8</span><span class="w"> </span><span class="mi">3</span><span class="n">AFD</span><span class="w"> </span><span class="n">EB23</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Merge</span><span class="err">:</span><span class="w"> </span><span class="mi">3</span><span class="n">fd21bc</span><span class="w"> </span><span class="mi">065</span><span class="n">a16a</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="nf">Min</span><span class="w"> </span><span class="n">RK</span><span class="w"> </span><span class="o">&lt;</span><span class="n">benjaminrk</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="n">Jan</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">13</span><span class="err">:</span><span class="mi">58</span><span class="err">:</span><span class="mi">08</span><span class="w"> </span><span class="mi">2018</span><span class="w"> </span><span class="o">+</span><span class="mi">0100</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">Merge</span><span class="w"> </span><span class="n">pull</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">#326</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">jupyter</span><span class="o">/</span><span class="n">auto</span><span class="o">-</span><span class="n">backport</span><span class="o">-</span><span class="k">of</span><span class="o">-</span><span class="n">pr</span><span class="o">-</span><span class="mi">325</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="n">Backport</span><span class="w"> </span><span class="n">PR</span><span class="w"> </span><span class="n">#325</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="mf">5.2</span><span class="p">.</span><span class="n">x</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="mi">065</span><span class="n">a16aad2e84d506b36bb2c874a7c287c53c61f</span><span class="w"> </span><span class="p">(</span><span class="n">origin</span><span class="o">/</span><span class="n">pr</span><span class="o">/</span><span class="mi">326</span><span class="p">)</span><span class="w"></span>
<span class="o">|/</span><span class="w">  </span><span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="nf">Min</span><span class="w"> </span><span class="n">RK</span><span class="w"> </span><span class="o">&lt;</span><span class="n">benjaminrk</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"></span>
<span class="o">|</span><span class="w">   </span><span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="n">Jan</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">10</span><span class="err">:</span><span class="mi">57</span><span class="err">:</span><span class="mi">13</span><span class="w"> </span><span class="mi">2018</span><span class="w"> </span><span class="o">+</span><span class="mi">0100</span><span class="w"></span>
<span class="o">|</span><span class="w"></span>
<span class="o">|</span><span class="w">       </span><span class="n">Backport</span><span class="w"> </span><span class="n">PR</span><span class="w"> </span><span class="n">#325</span><span class="err">:</span><span class="w"> </span><span class="n">Parenthesize</span><span class="w"> </span><span class="n">conditional</span><span class="w"> </span><span class="n">requirement</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">setup</span><span class="p">.</span><span class="n">py</span><span class="w"></span>
</code></pre>


<p>So in the previous block, you can see that <code>5ced6c6...</code> have been done <strong>and
signed</strong> by me, while <code>5a28fb0...</code> has be allegedly done by Min, <em>but</em> signed by
GitHub.</p>
<p>By default you do not have GitHub Signature locally, so the GitHub Signed
commits can appear as unverified. </p>
<p>To do so fetch the GitHub Key:</p>
<pre class="code literal-block"><span></span><code>$ gpg --keyserver hkp://keys.gnupg.net --recv-keys 4AEE18F83AFDEB23
</code></pre>


<p>Where <code>4AEE18F83AFDEB23</code> is the key you do not have locally. 
And remember Valid Signature, does not mean trusted.</p>
<h3>verifying Tags</h3>
<p>Tags can be signed, and need to be checked <strong>independently of commits</strong> :</p>
<pre class="code literal-block"><span></span><code><span class="err">$</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">tag</span><span class="w"> </span><span class="c1">--verify 5.2.1</span>
<span class="k">object</span><span class="w"> </span><span class="mi">5</span><span class="n">ced6c6936563fea7ba7efccecbc4248d84cfabb</span><span class="w"></span>
<span class="n">type</span><span class="w"> </span><span class="k">commit</span><span class="w"></span>
<span class="n">tag</span><span class="w"> </span><span class="mf">5.2.1</span><span class="w"></span>
<span class="n">tagger</span><span class="w"> </span><span class="n">Matthias</span><span class="w"> </span><span class="n">Bussonnier</span><span class="w"> </span><span class="o">&lt;</span><span class="n">bussonniermatthias</span><span class="nv">@gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1514919438</span><span class="w"> </span><span class="o">+</span><span class="mi">0100</span><span class="w"></span>

<span class="k">release</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">5.2.1</span><span class="w"></span>
<span class="nl">gpg</span><span class="p">:</span><span class="w"> </span><span class="n">Signature</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="n">Tue</span><span class="w"> </span><span class="n">Jan</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="mi">19</span><span class="err">:</span><span class="mi">57</span><span class="err">:</span><span class="mi">18</span><span class="w"> </span><span class="mi">2018</span><span class="w"> </span><span class="n">CET</span><span class="w"></span>
<span class="nl">gpg</span><span class="p">:</span><span class="w">                </span><span class="k">using</span><span class="w"> </span><span class="n">RSA</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="mi">99</span><span class="n">B17F64FD5C94692E9EF8064968B2CC0208DCC8</span><span class="w"></span>
<span class="nl">gpg</span><span class="p">:</span><span class="w"> </span><span class="n">Good</span><span class="w"> </span><span class="n">signature</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="ss">"Matthias Bussonnier &lt;bussonniermatthias@gmail.com&gt;"</span><span class="w"> </span><span class="o">[</span><span class="n">ultimate</span><span class="o">]</span><span class="w"></span>
</code></pre>


<p>So you can check that <em>I</em> tagged this commit.</p>
<h3>learn more</h3>
<p>As usual the <a href="https://git-scm.com/book/id/v2/Git-Tools-Signing-Your-Work">git documentation</a>
has more to say about this. And signing is not really useful without checking
the integrity of Git history, so please set <code>$ git config --global transfer.fsckobjects true</code> as well !</p>
</div>
        </div>
                <ul class="pager hidden-print">
<li class="previous">
                <a href="../32-open-with-binder-chrome/" rel="prev" title="Open in Binder Chrome Extension">Previous post</a>
            </li>
            <li class="next">
                <a href="../34-the-pleasure-of-deleting-code.md/" rel="next" title="The Pleasure of deleting code">Next post</a>
            </li>
        </ul>
</div>
                    <footer id="footer"><p>Contents © 2020         <a href="mailto:bussonniermatthias+blog@gmail.com">Matthias Bussonnier</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"></a><br>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a> (Contact me to waive NC).
</p>
            
        </footer>
</div>
    </section><script src="../../assets/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="../../assets/js/jquery.timeago.js" type="text/javascript"></script><script src="../../assets/js/mathjax.js" type="text/javascript"></script><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-110089201-1"></script><script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'UA-110089201-1');
        </script>
</body>
</html>
